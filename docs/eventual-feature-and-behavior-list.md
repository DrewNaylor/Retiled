# Eventual feature and behavior list

These are things that Windows Phone has that Retiled will eventually have. Moved from the readme because it was taking up too much space.

- Start screen
  - This is just tiles minus the "live" part at the moment because that would be a little complicated, though maybe in the future some people or I could figure out a good way to integrate Python scripts to display "live" data
  - Probably should look at the MahApps Metro Tile control, to see if there's anything I can learn from it: https://mahapps.com/docs/controls/tile
  - In addition to the MahApps Tile control, I should look at this one as well to see if there's anything useful even though it's for Silverlight: https://github.com/saurabhrajguru/HubTileX
  - Actually, maybe I should look a lot more at MahApps and what I can bring over to Avalonia as it has very Windows Phone-style controls and control appearances.
  - In addition to simple app shortcuts for the tiles, there will have to be a way to pin things like webpages, files, and contacts to the Start screen. Maybe this will be implemented with an app that can be shared to named "RetiledShortcutMaker", or something. The app would allow a user to share anything to it to pin it to Start, as long as support for that item is implemented in the Retiled share target app, rather than requiring the other app to support Retiled. Due to the number of things that can be pinned, there will have to be a dropdown box to allow the user to specify what they're pinning in case the app guesses wrongly. There should be a textbox to allow people to type in what they want the tile to say, and they should be able to edit it later. Webpages and files could be stored as .desktop file shortcuts, and maybe contacts could too, but I'm not sure if it would work for contacts. Contacts probably won't be supported right away because it's kinda complicated, unless apps would be smart enough to not try to re-import a contact's file if it already exists on the phone and instead shows the contact that's already there. Anyway, with different types of things that can be pinned, I'd have to have the pinning app take the path or whatever from the arguments I think and put that into a property, which is used to show in the UI. It would be useful to have it also be a stand-alone app that people can just type in a URL or whatever they want to pin, so maybe it could be called "RetiledShortcutMaker". With regard to the resulting .desktop files, there should be an option in the Settings app under `start` named "Preserve .desktop files for websites and other non-app shortcuts when unpinning their tiles", with the default being off. To ensure this works as expected, there should be a field in the Start screen config file that stores pinned tiles that says something like, `IsAppShortcut`, which is a boolean that defaults to `True`. To ensure that value is respected when re-pinning a non-app shortcut, I'll have to add a custom key (libdotdesktop_standard has support for custom keys now, just have to pass in the key and set the argument "IsCustomKey" to `True`) to .desktop files named `X-Retiled-IsAppShortcut`. If it doesn't exist, it's assumed to be `True`, which is the default. Otherwise, if it does exist and is `False`, the setting that says whether shortcut .desktop files should be deleted when unpinned as well as that particular .desktop file's location will be checked when unpinning it to ensure it's not in `/usr/share/applications` or other places that need root permissions to modify. These .desktop files would be stored under Retiled's own "shortcuts" folder (or maybe `~/.local/share` is a better idea, because then they can show up in other UIs), and it would be a good idea to allow the user to decide whether they show up in the All Apps list. Maybe when creating a shortcut, there should be two checkboxes: "Show in All Apps list" and "Pin to Start". At least one needs to be checked, or it'll refuse to do anything. Showing it in the All Apps list would have the option to not have it show up in lists set to off, while pinning it to start will have the code ignore that key when the tiles are loaded.
  - Basic Live Tiles for apps like the dialer or text message app could be handled by somehow checking to see if there's a notification for that app, and if there is, the number of notifications are put onto the tile. Somehow this number will have to be synced with the notifications so it updates in real-time with new notifications and the user clearing them. Dismissing all the notifications will have to clear the number on the tile.
  - There's also the app list to the right of the tiles, and the search box there along with the letter categorization are both essential to Windows Phone and Windows Phone-like environments
  - Tiles by default will use the user's Accent Color, but there needs to be options to either use a custom color for a tile, get the color from the icon, or get the color from the app's .desktop file in an `X-Retiled-DefaultTileColor` key. If that key is empty or invalid, it'll fall back in a few ways: whatever color the user set will be used first, but if it's not set, then the user's accent color will be used; in the event a wallpaper is set and no custom color is set, the tile will instead be transparent to let the image show through. The custom color is a thing in case people don't like the auto-color feature or the default tile color, or they're using monochrome icons. **Users must have the option to override the default color to instead have the tile show their Accent Color, a custom color, or a color from the icon, though using their Accent Color with a background will make the tile's background transparent.**
  - Medium tiles look good at 150x150 and wide tiles look good at 310x150, but small tiles at 70x70, aside from being decently sized and having correct margins, don't properly fill the wide tile's empty space if there are four of them that should go in a box together. This doesn't even include the fact that small tiles need to have their labels hidden, as that's what WP did. Forcing four small tiles onto the same row looks good, though.
  - Microsoft has this page, which describes tile sizes: https://docs.microsoft.com/en-us/previous-versions/windows/apps/hh781198(v=win.10)?redirectedfrom=MSDN
  - Not sure how tiles will be added to the Start screen. Maybe they'll all be in a grid with rows and columns set to be the smallest size, and just have each tile's RowSpan and ColumnSpan be what they need? There will have to be a system to determine whether a grid cell should be empty or not. Maybe this page will help a bit with adding the tiles dynamically: https://social.msdn.microsoft.com/Forums/vstudio/en-US/25fb2c46-8298-4f4f-a653-c3abc405b1a8/dynamically-adding-controls-to-grid
  - 8.1 added three-column view for more devices than it was previously available for. Experimentation with changing tile sizes shows that 100x100 medium tiles, 210x100 wide tiles, and 45x45 small tiles looks almost perfect (aside from small tiles not going into a box together). There would have to be a way to ensure tiles stay where the user originally put them when going into three-tile mode. Additionally, tile fonts and icon sizes need to be adjusted to look right when they're smaller. **NB**: The designer has three-column view incorrect, so three-column view works even when tile sizes are meant for two-column view.
  - Start screen wallpapers will be handled like WP8.1, where the tiles were fully transparent and the wallpaper was visible behind them. Scrolling would have a parallax effect, so that's required to be added, but there should be a way to turn it off so the image doesn't move as you scroll since I'm sure not everyone would want that. **The Windows Community Toolkit Sample App has parallax scrolling on the homepage with the image in the background, so I should look into how that would be done in Avalonia.** Maybe some people would want blurred or not-fully-transparent tiles, so that would be something to look into allowing at a much later date. Blurred tiles wouldn't be the default, and the blur intensity would be configurable like KDE. Any other blurring would be handled by third-party themes as I personally don't like blurring, but it might look cool on tiles.
  - Because some apps had tiles that were opaque even with a background, users should be able to specify which tiles are opaque and which are transparent.
  - Some Live Tiles should have a way to say they work when the tile is small, like the calendar to show the day. This would be a variable in the file that stores tile location, size, color, etc. **Actually, maybe it should be a part of the app's .desktop file as an `X-Retiled-LiveTileWorksWhenSmall` key, unless that would conflict with the possibility to allow deep-linking, which it shouldn't because new .desktop files would be made for shortcuts. This should also be something the user can easily configure.**
  - As one of the few planned features that originated in Windows 10 (I really hope desktop 8.x had this as it'll make me feel better about adding a 10 feature), Live Tiles should have a way to turn them off in case they update too much or the user doesn't like them and prefers to have a static icon.
- Search app
  - Something like the old Bing search app from WP8.0 rather than Cortana
    - Would be cool if someone built something similar to Cortana that used an open-source backend, though
    - Almond has stuff like Cortana where you can ask it the weather and stuff, and would probably work well for this: https://flathub.org/apps/details/edu.stanford.Almond
    - Those that prefer Google Now's assistant could use the unofficial desktop client as linked below.
    - There needs to be a setting for people to choose the default app that runs when you hit the Search button. At the moment, the options would be:
      - RetiledSearch (I should add a button to let people use the microphone to enter a search term, both for accessibility and because I think the Bing Search app had it and a major goal of this project is to try to re-implement as much of the WP experience as possible, plus other apps allow people to use the microphone)
      - Almond (https://almond.stanford.edu/)
      - Google Assistant Unofficial Desktop Client (https://github.com/melvin-abraham/google-assistant-unofficial-desktop-client)
      - Carola (So far only understands German, but may as well add it: https://marius.bloggt-in-braunschweig.de/2021/08/06/carola-personal-voice-assistent/)
      - Custom command (textbox where the user can type a command to run when pressing Search; it'll be run with the standard Freedesktop program running thing; there should also be a box for people to enter a command to run if they press and hold the search button, though as a fallback will just be the command that runs when they tap the button if they don't put anything in the box)
  - Currently this is just a textbox and a button that opens Bing with the search term in the default browser
    - Ideally you would get a list of search results right in the app instead of having to go to Bing (or your preferred search engine, when switching them is supported), just like the old Bing Search app would do. That would involve using APIs for search engines though, and while it shouldn't be that bad to support APIs for Bing, Google, and DDG, it may be difficult or impossible to support APIs if the user just types in a search URL for a custom search engine that's not already listed. Adding support for APIs will mean I'll have to also add settings to configure how the search engines function, such as for safe search. Some settings could affect multiple search engines, but some may be specific to certain ones.
    - Eventually it'll support choosing the default search engine
  - What would be really neat is if it had support for daily images if the user wants to show them, including but not limited to the Bing Image of the Day
    - This would just be the US at the beginning because that's what's easiest for me to test, but eventually it would have the option to use any region that has Bing Image of the Day stuff
    - Not sure if Microsoft would be ok with someone's project having built-in displaying of their images (should be fine as there are Linux programs that change your wallpaper to the Bing Image of the Day). Probably should have something that either goes to the Bing homepage (or the page of the daily wallpaper source that has image copyright info) or get the image's copyright info from Bing to display it in a popup that shows up when you press the `i` button in the Command Bar. Probably should just have an `i` button that goes to the page with image copyright info.
    - I'll probably have to include a default image like WP8.0 (and 8.1 without Cortana) in the source files so that something can show up when there's no Internet connection or the image can't be downloaded for some reason. This image will have to be royalty-free, probably something under a Creative Commons license. Could also use one of my pictures I've taken, as there must be one that gives Bing vibes. The copyright info on this one will be the same format as the rest of them on Bing, but copywritten to me, and I'll probably put it under CC-BY and the latest version.
  - Not sure how it would be implemented, but it would be cool if people could hold the Search button and have their chosen search app open in a listening state, just like Cortana. Not sure if the Bing Search app had that too or not, so I'd have to check the emulator.
  - I'll probably have to allow this app to be installed separately from the rest of Retiled, as it may eventually become useful enough on its own that people would want to download only it and nothing else. As a result, I'll probably have two packages: RetiledSession and RetiledSearch. People installing from GitHub will be recommended to download the RetiledSession package as that'll allow everything to be available, while the RetiledSearch package will only have the search app. This'll also be how I'll probably have it set up in the AUR if I can figure out how to make packages for it. I was wondering if I should leave the search app out of the session package (and just have a "full" package that pulls both the session and the search packages in), as it may be considered an "extra" even though the Bing Search app launched from the Search navigation bar button was a somewhat important part of the Windows Phone experience.
- Navigation bar
  - Navigation bar always stays on the physical bottom of the phone, unlike what Android does with its software buttons.
  - Software WP navigation bars rotate the icons to the left or the right when the screen is rotated, but some people might not like that so there needs to be a way to lock them in the vertical rotation.
  - There should be a way to allow people to use their accent color for the navigation bar background color, as that's a feature in a version of 8.1.
  - The buttons make the phone vibrate on contact, but there should be a way to allow people to turn off the vibration if they don't like it.
- Action Center
  - Long-pressing the quick action buttons at the top will open the relevant page in Settings, which is something I forgot 8.x lacked. (Thanks to TheMobilizer for the suggestion!)
  - The quick action button panel will be able to scroll horizontally to hold more buttons. [(issue #10)](https://github.com/DrewNaylor/Retiled/issues/10)
  - Dismissing notifications
    - Dismissing a single notification from an app when that app has multiple notifications should only dismiss that one notification. (Again thanks to TheMobilizer for suggesting this!)
    - When an app only has one notification, the line for the app's name and icon gets dragged slightly behind the notification. This will allow the 8.1-style notification dismissal effect to partially continue to exist unless the app has multiple notifications.
    - Dragging an app's notifications with two fingers will dismiss all notifications from that app with the same effect as WP8.1 where the two notifications around the first-selected notification take a bit to slide, then the next two, and so on. Pretty sure that gesture dismissed all of them at once in 10, but not having an easy way to dismiss only one app's notifications without sliding over the name and icon row was painful.
    - Dragging with three fingers will dismiss all notifications, since it could be useful.
  - Opening Action Center first shows the date, battery percentage, and other details along with the Quick Action buttons before showing the Notifications part, and you can just have the window stop partway down to only show the Quick Actions.
  - See `Status bar` for how the Action Center opens in landscape mode.
  - Opening Action Center closes the volume control UI. 
- Status bar
  - Status bar always stays on the physical top of the phone, unlike iOS. This means the Action Center is opened horizontally when the phone is in landscape mode.
  - Stuff in the status bar rotates according to the phone's rotation and takes up more horizontal space when it's on the side.
  - Any unread notifications show a single icon that resembles a newspaper in a slightly-rounded rectangle in the status bar to let you know there's something to look at. This is useful when you miss a notification (possibly by switching apps when it shows up, as happens in iOS for some reason) or you have Quiet Hours turned on. The icon only shows up once (unlike Android where there's an icon for each notification) and goes away when you open the Action Center's Notifications part.
- Settings that are relevant to a Windows Phone-style UI. Probably will do a Settings app that looks at settings-related .desktop files and add a few of my own menus.
- Multitasking view complete with the WP8 GDR 3 "close" button in the top-right corner and 8.1's support for swiping down to close apps.
- WP8.1-style animations (8.1's animations were the best in any version I've used; 8.0's animations made me sick to my stomach after not using it for a long time)
- A window manager may need to be built to hold the navigation bar and status bar and to display the multitasking menu. Hopefully it won't be needed and just a session file and a pre-existing window manager that opens stuff fullscreen will work, but I doubt it because the status bar and navigation bar need to be in a specific place. Not sure exactly where the "Loading..." and "Resuming..." messages would go, but they should be in this project somewhere if it makes sense.
- The screen never goes upside down, unlike Android. A way for the user to allow it may be useful if they like that feature.

There are also some "wishlist" features that I really want but might be too complicated to do.
- Tile folders
  - Not exactly sure how they'd be implemented, but they're useful
  - They kinda flow out of the small preview grid into their area
  - Folder labels can be changed.
  - Actually, maybe Avalonia's `Expander` control would be useful for this. I'll have to figure out a way to eventually show what items are in there from the preview, but before that I'd have to be able to add items to the expander contents. Having the expander control go up could be an early way to handle the ellipsis menu for apps, too.
- Lock screen
  - Tapping it made the entire thing go up and bounce a few times before landing. If you had a PIN code active, it showed the unlock area, otherwise it just showed what's active.
  - You didn't have to press a button after typing in your pin, as it just automatically unlocked if the combination was correct (will be more difficult than the bounce animation, and not even sure if it'll work or be secure and fast)
  - Wallpapers get darkened slightly on WP, so there should be a way to turn that off if people don't like it.
  - Not exactly sure how this would work in a way that's like the other mobile Linux lockscreens like the one in Plasma Mobile. That's the main thing preventing it from existing besides the fact that .NET/Avalonia apps take a while to start on the PinePhone, so that'll be not fun. Hopefully it'll run stuff faster soon.
    - As of October 1st, 2021, I'm working on rewriting the current parts of Retiled into Python/QML, which is way faster and lighter in memory usage than Avalonia, so performance and stuff should probably be fine. I'll just have to learn how to make a lockscreen and stuff.
  - Probably should allow people to blur the background behind the lock screen text in case they want consistency with their blurred tiles as mentioned above. Blurred backgrounds are not the current focus, though.
  - Just remembered that WP8.x allowed people to use the Bing Image of the Day as their lockscreen, so I should offer that as an option. Since not everyone likes their devices contacting Bing or Microsoft (or maybe they just want to use something other than Bing Image of the Day), I'll have to allow people to use other sources for daily images.
- Keyboard since that keyboard was the best in 8.x
  - Basic typing shouldn't be that bad, but having it not interfere too much with what's on screen may be tough, plus it needs multiple language support
  - Swiping to type would be helpful but may be difficult to implement. If it is implemented, it should display the current result in the suggestion bar as you swipe.
  - The suggestions would be difficult to do when it comes to actually predicting text, but showing the text should be fine. It's important to remember that there are a whole bunch of suggestions (at least 10 usually), and that the list scrolls sideways.
  - Words that aren't recognized can be added to the dictionary by selecting them and pressing "+word".
  - The keyboard had a `paste` button at the very left part of the suggestion bar, so that needs to be added as well
  - Text-based emoticons are another thing it needs besides multi-language support (this whole thing needs multi-language support, but I don't really know how to do localization even if I did know multiple languages, so hopefully someone who knows how to do that can help with it)
  - May as well add the text navigation "stick" that Windows 10 Mobile had, since it's one of the few good things that version did. This will be one of the few features from W10M.
- Battery Saver app
  - The only thing that would work for sure would be to get battery status like charge percentage. Maybe TLP has command-line options that can make it conserve more power for Battery Saver.
- Typing dictionary
  - There was no way to remove individual words, so there should be a menu that allows selecting user-added words to remove.
- Text selection that looks and behaves like WP
  - Tap a word once to select it, and drag the corners to change the selection
  - Surprisingly enough, Plasma Mobile has floating cut/copy/paste buttons that go above the selection, but they aren't quite enough, so I think a hybrid of iOS, Plasma Mobile, and Windows Phone would be the best thing. It would look like the WP buttons where icons are in circles, but there's a button for `cut` like Plasma Mobile and another button for `select all` like iOS because it's useful.
- Firefox theme and customizations to make it look like IE Mobile
  - Some things probably won't be easy/possible, such as a button to show tabs, so it might be more like Windows 8.x's IE when opened from the Start screen. That version just had a tab bar above the address bar and below the controls.
  - This might be the easiest of the wishlist to do, depending on if Mozilla changes stuff in Firefox to not allow something like this.
  - Probably will require making a Windows Phone 8.x GTK theme to make it simple. That in turn may require this project to become GPL'd, which I don't want to have happen but will if it means it'll be successful and work.
- Volume control UI
  - Not sure how it would behave like WP, but there it would open `Ringer + Notifications` when on the Start screen, and default to `Media + Apps` in apps like Bing Search. Changing different volume settings separately like this would probably take a lot of modifications to system-level stuff.
  - There's a volume slider when it's expanded.
  - Maybe it could be part of the status bar and Action Center program so it pops up quickly and can dismiss the Action Center when it's shown (see the Action Center part on how it gets dismissed when opening the volume controls).
  - At least there should be a toggle button for vibrate if the volume settings are all together, if there's a way to implement that. Not a fan of having to go into Settings just to turn off vibrate.
- If this ever becomes a part of a Linux distro, the shutdown thing will say "goodbye" in lowercase, just like WP. I'd assume this text was translated, so that'll have to be done as well. Maybe it can just be images of text translated for each language.
- Share sheet
  - This was a full-screen list of apps (with their icons to the left of their names) that could be shared to, with an entry at the top to go to the Store to get more apps. Since I want Retiled to be package manager/distro-agnostic, this will have to be a setting in the default apps page in Settings.

Besides features that were in WP, some additional features may need to be added for ease of use on a Linux (or perhaps even FreeBSD?) phone:
- .desktop files editor
  - Just like the ones available on MATE and Xfce, except with added support for Retiled-specific entries like `X-Retiled-OpaqueTileWithBackgroundSet`, `X-Retiled-NoLiveTileUpdates`, and `X-Retiled-LiveTileWorksWhenSmall`. These names may change.
